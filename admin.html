<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Админ-панель</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>Админ-панель</h1>
    <ul id="userList"></ul>
  </div>
  <script>
    function loadAllUsers() {
      const userList = document.getElementById('userList');
      userList.innerHTML = '';

      for (let i = 0; i < localStorage.length; i++) {
        const key = localStorage.key(i);
        if (key.startsWith('userData_')) {
          const userData = JSON.parse(localStorage.getItem(key));
          const username = key.replace('userData_', '');

          const li = document.createElement('li');
          li.innerHTML = `
            <strong>${username}</strong><br>
            Накоплено: ${formatTime(userData.globalTime)}<br>
            Текущий таймер: ${formatTime(userData.accumulatedTime)}<br>
            Статус: ${userData.isTimerRunning ? 'Запущен' : 'Остановлен'}
          `;
          userList.appendChild(li);
        }
      }
    }

    function formatTime(seconds) {
      const hours = Math.floor(seconds / 3600);
      const minutes = Math.floor((seconds % 3600) / 60);
      const secs = seconds % 60;
      return `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
    }

    window.addEventListener('load', loadAllUsers);
  </script>
</body>
</html>